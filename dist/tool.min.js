/*!
 * tool.js v1.1.1
 * (c) 2021-2021 wishzhang
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tool={})}(this,(function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return Math.floor((t-1)/2)}function h(t){return 1+(t<<1)}function a(t){return 2+(t<<1)}function o(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}var u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e(this,t),this.heap=JSON.parse(JSON.stringify(n));for(var i=Math.floor(this.heap.length/2),r=i;r>=0;r--)this.shiftDown(r)}return i(t,[{key:"insert",value:function(t){try{return this.heap.unshift(t),this.shiftDown(0),!0}catch(t){return console.log(t),!1}}},{key:"getMax",value:function(){return this.heap[0]}},{key:"removeMax",value:function(){var t=this.heap[0];return o(this.heap,0,this.heap.length-1),this.heap.length--,this.shiftDown(0),t}},{key:"isEmpty",value:function(){return this.size()<=0}},{key:"size",value:function(){return this.heap.length}},{key:"shiftDown",value:function(t){var e,n=h(t),i=a(t);e=n<this.heap.length&&this.heap[n]>this.heap[t]?n:t,i<this.heap.length&&this.heap[i]>this.heap[e]&&(e=i),e!==t&&(o(this.heap,e,t),this.shiftDown(e))}}]),t}(),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e(this,t),this.heap=JSON.parse(JSON.stringify(n));for(var i=Math.floor((this.heap.length-1)/2),r=i;r>=0;r--)this.shiftDown(r)}return i(t,[{key:"insert",value:function(t){try{return this.heap.push(t),this.shiftUp(this.heap.length-1),!0}catch(t){return console.log(t),!1}}},{key:"getMin",value:function(){return this.heap[0]}},{key:"removeMin",value:function(){var t=this.heap[0];return o(this.heap,0,this.heap.length-1),this.heap.length--,this.shiftDown(0),t}},{key:"isEmpty",value:function(){return this.heap.length<=0}},{key:"size",value:function(){return this.heap.length}},{key:"shiftDown",value:function(t){var e,n=h(t),i=a(t);e=n<this.heap.length&&this.heap[t]>this.heap[n]?n:t,i<this.heap.length&&this.heap[e]>this.heap[i]&&(e=i),e!==t&&(o(this.heap,e,t),this.shiftDown(e))}},{key:"shiftUp",value:function(t){for(var e=s(t);e>=0&&this.heap[t]<this.heap[e];)o(this.heap,t,e),t=e,e=s(e)}}]),t}();var l=function(){function t(n){e(this,t),r(this,"startPoint",-1),r(this,"duration",0),r(this,"preDuration",0),r(this,"isRuning",!1),this.onProgress=n.onProgress?n.onProgress:new Function,this.preDuration=n.preDuration||0}return i(t,[{key:"update",value:function(){-1===this.startPoint&&(this.startPoint=Date.now());var t=Date.now()-this.startPoint;this.duration=this.preDuration+t,this.onProgress(this.duration)}},{key:"start",value:function(){var t=this;this.isRuning||(this.isRuning=!0,this.update(),this.interval=setInterval((function(){t.update()}),1e3))}},{key:"pause",value:function(){this.isRuning&&(this.isRuning=!1,this.update(),clearInterval(this.interval),this.startPoint=-1,this.preDuration=this.duration)}},{key:"reset",value:function(){this.isRuning=!1,clearInterval(this.interval),this.startPoint=-1,this.preDuration=0,this.duration=0,this.update()}}]),t}();t.MaxHeap=u,t.MinHeap=f,t.Timer=l,t.dateDistance=function(t,e){var n=e-t,i=n%864e5,r=i%36e5,s=r%6e4;return{days:Math.floor(n/864e5),hours:Math.floor(i/36e5),minutes:Math.floor(r/6e4),seconds:Math.round(s/1e3)}},t.dateFormat=function(t,e){if(e=e||"yyyy-MM-dd hh:mm:ss","Invalid Date"!==(t=new Date(t)).toString()){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e}return""},t.getAverage=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return 0;var i=e.reduce((function(t,e){return t+e}),0),r=i/e.length;return r},t.heepSort=function(t){for(var e=[],n=new f(t);!n.isEmpty();)e.push(n.removeMin());return e},t.isAlphabet=function(t){return/^[A-Za-z]+$/.test(t)},t.isEmail=function(t){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(t)},t.isLowerCase=function(t){return/^[a-z]+$/.test(t)},t.isMobile=function(t){return/^1[0-9]{10}$/.test(t)},t.isURL=function(t){return/^http[s]?:\/\/.*/.test(t)},t.isUpperCase=function(t){return/^[A-Z]+$/.test(t)},Object.defineProperty(t,"__esModule",{value:!0})}));
